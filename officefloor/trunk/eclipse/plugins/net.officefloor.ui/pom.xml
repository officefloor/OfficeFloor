<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>net.officefloor</groupId>
        <artifactId>officefloor</artifactId>
        <!--
            Reminder: do not forget to update bin.include of
            build.properties on changing version to include the correct
            jar dependencies in building this plug-in.
        -->
        <version>0.0.1</version>
    </parent>
    <artifactId>net.officefloor.ui</artifactId>
    <name>Office Floor User Interface</name>
    <packaging>zip</packaging>
    <build>
        <plugins>
            <plugin>
                <artifactId>maven-enforcer-plugin</artifactId>
                <executions>
                    <execution>
                        <id>enforce-property</id>
                        <goals>
                            <goal>enforce</goal>
                        </goals>
                        <configuration>
                            <rules>
                                <requireProperty>
                                    <property>eclipse.install.dir</property>
                                    <message>
                                        Missing property: &apos;eclipse.install.dir&apos;
                                    
Please ensure property &apos;eclipse.install.dir&apos; is specified in an external active profile. 
Its value should contain the directory path to where Eclipse is installed (eg C:\install).

Also ensure the &apos;startup.jar&apos; is available in the installed directory.  
This may require coping and renaming from the plug-in. 
                                    </message>
                                </requireProperty>
                            </rules>
                            <fail>true</fail>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <artifactId>maven-eclipse-plugin</artifactId>
                <executions>
                    <execution>
                        <id>synchronise-eclipse</id>
                        <phase>validate</phase>
                        <goals>
                            <goal>eclipse</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <pde>true</pde>
                    <downloadSources>true</downloadSources>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <executions>
                    <execution>
                        <id>copy-dependencies</id>
                        <phase>process-sources</phase>
                        <goals>
                            <goal>copy-dependencies</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>${basedir}</outputDirectory>
                            <overWriteReleases>false</overWriteReleases>
                            <overWriteSnapshots>false</overWriteSnapshots>
                            <overWriteIfNewer>true</overWriteIfNewer>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <artifactId>maven-clean-plugin</artifactId>
                <configuration>
                    <filesets>
                        <fileset>
                            <directory>${basedir}</directory>
                            <includes>
                                <include>*.jar</include>
                            </includes>
                            <followSymlinks>false</followSymlinks>
                        </fileset>
                    </filesets>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>pde-maven-plugin</artifactId>
                <extensions>true</extensions>
                <configuration>
                    <eclipseInstall>${eclipse.install.dir}</eclipseInstall>
                    <buildProperties>
                        <javacSource>1.6</javacSource>
                        <javacTarget>1.6</javacTarget>
                    </buildProperties>
                </configuration>
                <executions>
                    <execution>
                        <id>build-pde</id>
                        <phase>compile</phase>
                        <goals>
                            <goal>attach</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>clean-pde</id>
                        <phase>clean</phase>
                        <goals>
                            <goal>clean</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
    <dependencies>
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>net.officefloor.core</artifactId>
            <version>${pom.version}</version>
            <type>zip</type>
        </dependency>
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>net.officefloor.filingcabinet</artifactId>
            <version>${pom.version}</version>
            <type>zip</type>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
        </dependency>
    </dependencies>
</project>